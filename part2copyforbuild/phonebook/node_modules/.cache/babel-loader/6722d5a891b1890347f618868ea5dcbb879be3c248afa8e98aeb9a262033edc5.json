{"ast":null,"code":"import{useState}from'react';import phoneService from'./services/phonenumbers';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Persons=function Persons(_ref){var persons=_ref.persons,newFilter=_ref.newFilter,setNewFilter=_ref.setNewFilter,setPersons=_ref.setPersons,newMessage=_ref.newMessage,setNewMessage=_ref.setNewMessage,deleted=_ref.deleted,setDeleted=_ref.setDeleted;var person={name:\"\"};var peopleToShow=persons.filter(function(person){return person.name.toLowerCase().includes(newFilter);});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"ul\",{children:peopleToShow.map(function(person){return/*#__PURE__*/_jsxs(\"p\",{children:[person.name,\" \",person.number,\" \",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return phoneService.removePerson(person.id,person).then(function(){return setPersons(persons.filter(function(p){return p.id!=person.id;}));}).catch(function(error){setDeleted(true);setNewMessage(\"Info on \".concat(person.name,\" has already been removed from\"));});},children:\"delete\"})]},person.id+1);})})});};export default Persons;","map":{"version":3,"names":["useState","phoneService","Persons","persons","newFilter","setNewFilter","setPersons","newMessage","setNewMessage","deleted","setDeleted","person","name","peopleToShow","filter","toLowerCase","includes","map","number","removePerson","id","then","p","catch","error"],"sources":["/Users/nemrnahle/nemr/fullstackopen/part2/phonebook/src/Persons.js"],"sourcesContent":["import { useState } from 'react'\nimport phoneService from './services/phonenumbers'\n\nconst Persons = ({ persons, newFilter, setNewFilter, setPersons, newMessage, setNewMessage, deleted, setDeleted }) => {\n\n  const person = {\n    name: \"\",\n  };\n  \n  const peopleToShow = persons.filter(person => person.name.toLowerCase().includes(newFilter))\n\n  return (\n    <div>\n      <ul>\n        {peopleToShow.map(person =>\n          <p key={person.id + 1}>{person.name} {person.number} <button onClick={() => \n            phoneService.removePerson(person.id, person)\n            .then(() => setPersons(persons.filter(p => p.id != person.id)))\n            .catch(error => {\n              setDeleted(true)\n              setNewMessage(`Info on ${person.name} has already been removed from`)\n            })\n          }>delete</button></p> \n          )}\n      </ul>\n    </div>\n  )\n}\n\nexport default Persons"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAOC,aAAY,KAAM,yBAAyB,yFAElD,GAAMC,QAAO,CAAG,QAAVA,QAAO,MAAyG,IAAnGC,QAAO,MAAPA,OAAO,CAAEC,SAAS,MAATA,SAAS,CAAEC,YAAY,MAAZA,YAAY,CAAEC,UAAU,MAAVA,UAAU,CAAEC,UAAU,MAAVA,UAAU,CAAEC,aAAa,MAAbA,aAAa,CAAEC,OAAO,MAAPA,OAAO,CAAEC,UAAU,MAAVA,UAAU,CAE7G,GAAMC,OAAM,CAAG,CACbC,IAAI,CAAE,EACR,CAAC,CAED,GAAMC,aAAY,CAAGV,OAAO,CAACW,MAAM,CAAC,SAAAH,MAAM,QAAIA,OAAM,CAACC,IAAI,CAACG,WAAW,EAAE,CAACC,QAAQ,CAACZ,SAAS,CAAC,GAAC,CAE5F,mBACE,kCACE,oBACGS,YAAY,CAACI,GAAG,CAAC,SAAAN,MAAM,qBACtB,qBAAwBA,MAAM,CAACC,IAAI,CAAC,GAAC,CAACD,MAAM,CAACO,MAAM,CAAC,GAAC,6BAAQ,OAAO,CAAE,yBACpEjB,aAAY,CAACkB,YAAY,CAACR,MAAM,CAACS,EAAE,CAAET,MAAM,CAAC,CAC3CU,IAAI,CAAC,iBAAMf,WAAU,CAACH,OAAO,CAACW,MAAM,CAAC,SAAAQ,CAAC,QAAIA,EAAC,CAACF,EAAE,EAAIT,MAAM,CAACS,EAAE,GAAC,CAAC,GAAC,CAC9DG,KAAK,CAAC,SAAAC,KAAK,CAAI,CACdd,UAAU,CAAC,IAAI,CAAC,CAChBF,aAAa,mBAAYG,MAAM,CAACC,IAAI,mCAAiC,CACvE,CAAC,CAAC,EACH,UAAC,QAAM,EAAS,GAPTD,MAAM,CAACS,EAAE,CAAG,CAAC,CAOA,GACpB,EACA,EACD,CAEV,CAAC,CAED,cAAelB,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}